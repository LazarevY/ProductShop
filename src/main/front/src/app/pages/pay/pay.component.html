<app-header></app-header>
<main class="bg-light" style="height: auto; min-height: 100vh">
  <div style="height: 15vh;"></div>

  <div class="container">
    <h1>Детали заказа</h1>
    <h2>Сумма заказа: {{orderPrice.toFixed(2)}}</h2>
    <h2>Ваша скидка: {{orderStock.toFixed(2)}}</h2>
    <h2>Общая калорийность: {{storage.getParameter('orderCalories')}}</h2>
    <h2>Адрес доставки: {{address.address}}</h2>
    <div *ngIf="payMethods.length > 0; else elseBlock;">
      <label for="payId">Способ оплаты</label>
      <select id="payId" [value]="payMethods[0].id">
        <option *ngFor="let p of payMethods" [value]="p.id">**** **** **** ****{{p.cardNumber.substring(12)}}</option>
      </select>
      <input type="button" class="btn gf-bg-cmp text-light" value="Оплатить" (click)="registerOrder()">
    </div>
    <ng-template #elseBlock>
      <h2><a routerLink="account/cards">Добавьте способ оплаты</a></h2>
    </ng-template>
  </div>

</main>
<app-footer></app-footer>

